Регламент code-review в команде QA:

1. Best Practice - открытость ко всему хорошему и устранение всего плохого

1.1. Процедура - это закон: 

1.2. Факультативные дополнения от команды приветствуются (на примере Improvements):

1.3. OWNER в праве решать всю вкусовщину - но команда может предлагать BestPractice INPUT - не возбраняется и принимается без агрессии и обид (есть право на вопрос и ответ)

- вкусовщина в своем МР где все новое - OK - (если болит и преодолены возражения в комментах)
- вкусовщина в чужих МР - доброжелательная дискуссия в комментах!
- сортировать requirements по алфавиту - одноразовый критерий опрятности 
- - сделать однажды упорядоченно через PyCharm Sync Python Requirements и забыть.
- - при необходимости изменений requirements - до нового MR (но добавлять тоже по алфавиту)

2. Оформление MR:

2.1. Процедура - это закон (см. ссылку в топе)

- Ссылка на Issue должна быть в Description
- - Target: обязательно или сам МР или связанный issue или DocString в коде должны содержать описание изменений (цель/суть и необходимые для review детали реализации)
- - в комментах не возбраняется указывать на отсутствие этих условий выше (просить объяснить/дополнить описания на этапе ревью)
- для ni (no issue) - тогда описание в Description обязательно 

2.2. Атомарность изменений:

- изменения по задаче атомарны (ничего лишнего, минимум рефакторинга)
- в случае необходимости рефакторинга (если болит) - отдельный MR
- можно использовать сущность hotfix/<существующий МР>

2.3. SQUASH vs REBASE merge --> только SQUASH

- сокращать gitlog до минимума -->  устанавливать галочку "SQUASH Commits" в MR
- не плодить orphan веток в repo --> устанавливать галочку "Delete branch after merge" в MR
- использовать команды для поддержания repo в чистоте:
- git fetch -a <-- обновление локальных индексов по всем веткам в repo
- git branch -a <-- просмотр всех веток в repo
- git fetch -a --prune <-- очистка удаленных веток-сирот

2.4 Создатель МР следит за изменениями в master:

- в случае возникновения конфликта файлов MR с обновлениями в master
- - оперативно решает конфликты слиянием ветки МР с обновленным master
- триггерит обсуждение задержки с апрувами
- триггерит обсуждение необходимости готового к merge МР

3. Cроки ревью и закрытие тредов перед merge

3.1. MIN количество апрувов для merge =2!

3.2. кол-во аппруверов >= 2 (можно кросс команды)

3.3. почту смотрим и ревьюим обязательно по запросу в почте - в срок 2 дня

3.4. при пропуске срока готовиться к эскалации

3.5. производить merge в master только с закрытыми трэдами


4. Linter before code-review:

4.1 CI линтер Pylint (9.5 баллов) - добавляем config CI во все проекты (где нет сейчас)

4.2 для нового проекта сразу добавляем линтер Pylint (в первом или втором или третьем MR - но сразу)

4.3. CI может падать при ухудшении качества (<=9.5 баллов) -> прогонять CI своей ветки МР до code-review (если доступен)

4.4. у каждого могут быть локальные линтеры
 - использовать в PyCharm перед commit:
 - - Reformat file
 - - inspections (отслеживать желтый треугольник в правом верхнем углу IDE) - фиксить по возможности до CI
 - - локальные утилиты не возбраняются (black интегрируется в PyCharm):
 - - - для нового контента - ДА
 - - - для рефакторинга существующего кода - НЕТ (ДА - для откровенных ошибок приводящих к nested typo)
